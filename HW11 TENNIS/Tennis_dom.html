<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TENNIS</title>
<style>
  #court {
    background-color: yellow;
    position: relative;
  }
  #firstPlayer {
    background-color: green;
    position: absolute;
  }
  #secondPlayer {
    background-color: fuchsia;
    position: absolute;
  }
  #ball {
    background-color: red;
    border-radius: 50%;
    position: absolute;
  }

</style>
</head>
<body>
  <button>старт!</button>
  <div id="score"></div>
  <div id="court">
    <div id="firstPlayer"></div>
    <div id="secondPlayer"></div>
    <div id="ball"></div>
  </div>
  <script>
    // создаём поле для игры
    const court = document.getElementById("court");
    const width = "600px";
    const height = "400px";
    court.style.width = width;
    court.style.height = height;
    
    // создаём мяч для игры
    const ball = document.getElementById("ball");
    ball.style.width = "30px";
    ball.style.height = "30px";
    ball.style.left = `${600/2}px`;
    ball.style.top = `${400/2}px`;

    // создаём ракетки 
    const firstPlayer = document.getElementById("firstPlayer");
    firstPlayer.style.width = "12px";
    firstPlayer.style.height = "120px";

    const secondPlayer = document.getElementById("secondPlayer");
    secondPlayer.style.width = "12px";
    secondPlayer.style.height = "120px";
    secondPlayer.style.left = "588px";

    // Запускаем движение ракеток
      let topCoordinate1 = 0;
      let topCoordinate2 = 0;
      
      document.addEventListener ('keydown', (e) => {
      switch (e.keyCode) {
        case 16: 
            rocketMove1();
          break; 
        case 17:
            rocketMove2();
          break;
        case 38:
            rocketMove3();
          break;
        case 40:
            rocketMove4();
          break;
      }})

      document.addEventListener ('keyup', (e) => {
      switch (e.keyCode) {
        case 16: 
            firstPlayer.style.transform = `translate(0px, ${topCoordinate1+=0}px)`; 
          break; 
        case 17:
            firstPlayer.style.transform = `translate(0px, ${topCoordinate1+=0}px)`; 
          break; 
        case 38:
            secondPlayer.style.transform = `translate(0px, ${topCoordinate2+=0}px)`; 
          break;
        case 40:
            secondPlayer.style.transform = `translate(0px, ${topCoordinate2+=0}px)`; 
          break;
      }})

      const rocketMove1 = () => {
        if (topCoordinate1 >= 0) {
          firstPlayer.style.transform = `translate(0px, ${topCoordinate1+=-1}px)`; 
        }
      }

      const rocketMove2 = () => {
        if (topCoordinate1 <= 278) {
          firstPlayer.style.transform = `translate(0px, ${topCoordinate1+=1}px)`; 
        }
      }

      const rocketMove3 = () => {
        if (topCoordinate2 >= 0) {
          secondPlayer.style.transform = `translate(0px, ${topCoordinate2+=-1}px)`; 
        }
      }

      
      const rocketMove4 = () => {
        if (topCoordinate2 <= 278) {
          secondPlayer.style.transform = `translate(0px, ${topCoordinate2+=1}px)`; 
        }
      }

    const tick = () => {

            rocketMove1();
            rocketMove2();
            rocketMove3();
            rocketMove4();
            requestAnimationFrame(tick);
          }

    
    tick();







    
    // let topCoordinate = 0;
    // let timer = 0;
    // document.addEventListener ('keydown', (e) => {
      
    //   switch (e.keyCode) {
    //     case 16: 
    //       const tick1 = () => {
    //         topCoordinate += 2;
    //         firstPlayer.style.transform = `translate(0px, ${topCoordinate}px`; 
    //         requestAnimationFrame(tick1);
    //       }
    //       tick1();
    //       break; 
    //     case 17:
    //     const tick2 = () => {
    //         cancelAnimationFrame
    //         topCoordinate += -2;
    //         firstPlayer.style.transform = `translate(0px, ${topCoordinate}px`; 
    //         requestAnimationFrame(tick2);
    //       }
    //       tick2();
    //       break;
    //   }})

    
    
  
      
    


  </script>
</body>
</html>